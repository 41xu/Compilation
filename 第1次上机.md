## MicroC 词法分析上机实验

## 实验目的

对循环语句和条件判断语句编写词法分析编译程序，只能通过一遍扫描完成。 

## 实验要求

(1)	关键字：
for    if    then  else  while    do    until    int    input    output
所有关键字都是小写。
(2）运算符和分隔符：
  ：  =   +   -   *    /   <    >   <=   <>    >=    ;    (  )   #
(2)	其他标识符（ID）和整型常数（NUM），通过以下模式定义：
ID=letter(letter | digit)*
NUM=digit digit*
(4)空格由空白、制表符和换行符组成。空格一般用来分隔ID、NUM、运算符、分隔符和关键字，词法分析阶段通常被忽略。

## 各种词法单元对应的词法记号如下

词法单元 | 词法记号 |
for | 1
if | 2
then | 3
else |4
while | 5
do | 6
letter(letter+digit)* | 10
digit digit* | 11
+ | 13
- | 14
\* | 15
/ | 16
until | 29
input | 31
: | 17
:= | 18
< | 20
<> | 21
<= | 22
\> | 23
\>= | 24
= | 25
; | 26
( | 27
) | 28
\# | 0
input | 30
output | 32

## 词法分析程序的功能

输入：源程序
输出：二元组（词法记号,属性值/其在符号表中的位置）构成的序列。

例如：对源程序
int x:=5;  if (x>0)  then  x:=2*x+1/3;  else  x:=2/x;  #
经词法分析后输出如下序列：
（30, int）（10,’x’）(18, :=) (11,5) (26, ;) (2, if )  (27,( )……


### 1. 几点说明：

1）关键字表的初值。
关键字作为特殊标识符处理，把它们预先安排在一张表格中（称为关键字表），当扫描程序识别出标识符，查关键字表。如能查到匹配的单词，则该单词的关键字，否则为一般标识符。关键表为一个字符串数组，其描述如下：
char *keyword[8]={”for”, ”if”, ”then” ,”else”，”while”, ”do”, “until”, “int” };

(3)	程序中需要用到的主要变量为 token , id和num.
1）id用来存放构成词法单元的字符串；
2）num用来存放整数（可以扩展到浮点数和科学计数法表示）；
3）token用来存放词法单元的词法记号。

do{ 
lexical(); //将词法单元对应的记号保存到token中，属性值保存到num或者id中
switch(token) { 
case 11: printf ("(token, %d\n) ", num); break; 
case -1: printf("error!\n");break; 
default: printf("(%d,%s)\n", token, id); 
} 
}while (token!=0); 


附加题：
擦，我们的密码设置才奇葩呢。
要求：
（1）必须要有字母（大小写都有）、数字、符号，八个以上字符
（2）密码每三个月重新设置一次，新设置的密码跟以前所有的密码重复的字符不超过三个
  
没几次搞下来就无法设自己熟悉的字符串了，只好随机创建一个，写到纸上每次抄进去。
假设旧密码为：by99YL17!
利用正规式检测输入的新密码是否符合规定。


上机要求：
上机作业需助教检查后登记才能获得上机分数。


